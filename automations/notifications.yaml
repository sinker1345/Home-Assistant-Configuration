# This (trigger) has to happen, while condition(s) are true, to do stuff (action)

# Check if Lexi is On XBox
  - id: "123456123456789"
    alias: Is Lexi on Xbox
    trigger:
     - platform: state
       entity_id: sensor.lexixboxone
       from: 'Offline'
       to: 'Online'
    action:
      - service: notify.google_push
        data_template:
          message: "Lexi has signed on to XBox"
          target: ["Tommy_Pixel_2XL", "Jessica_Phone", "mpu_linux", "mpu_chrome"]
          data:
           tag: 'Lexi Signed on to Xbox'

# Check if Lexi Signed Off XBox
  - id: "123456789456123"
    alias: Is Lexi off Xbox
    trigger:
     - platform: state
       entity_id: sensor.lexixboxone
       from: 'Online'
       to: 'Offline'
    action:
      - service: notify.google_push
        data_template:
          message: "Lexi has signed off of XBox"
          target: ["Tommy_Pixel_2XL", "Jessica_Phone", "mpu_linux", "mpu_chrome"]
          data:
           tag: 'Lexi Signed off of Xbox'

# Take Out Trash
  - id: "123456654984"
    alias: 'Trash Day'
    trigger:
      - platform: time
        at: '00:30:00'
    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{states.calendar.main.attributes.message == 'Trash Day'}}"
        - condition: state
          entity_id: calendar.main
          state: 'on'
    action:
     - service: notify.google_push
       data_template:
         message: "Take out the Trash"
         target: ["Tommy_Pixel_2XL", "MPU_Chrome", "mpu_linux"]

# Take Out Recycling
  - id: "1234569874651689"
    alias: 'Recycling Day'
    trigger:
      - platform: time
        at: '00:30:00'
    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{{states.calendar.main.attributes.message == 'Recycling Day'}}"
        - condition: state
          entity_id: calendar.main
          state: 'on'
    action:
     - service: notify.google_push
       data_template:
         message: "Take out the Recycling"
         target: ["Tommy_Pixel_2XL", "MPU_Chrome", "mpu_linux"]

# 3D Printer Job 50% Complete
  - id: "12345665216546851"
    alias: 3D Printer Job 50% Complete
    trigger:
     - platform: numeric_state
       entity_id: sensor.octoprint_job_percentage
       above: 50
    action:
      - service: notify.google_push
        data_template:
          message: "3D Print job is 50% complete!"
          target: ["Tommy_Pixel_2XL", "MPU_Chrome", "MPU_Linux"]
          data:
           tag: '3D print job is 50% complete!'

# 3D Printer Job Completed
  - id: "123456654620685"
    alias: 3D Printer Job Complete
    trigger:
     - platform: numeric_state
       entity_id: sensor.octoprint_job_percentage
       above: 99.9
    action:
      - service: notify.google_push
        data_template:
          message: "3D Print job is complete!"
          target: ["Tommy_Pixel_2XL", "MPU_Chrome", "MPU_Linux"]
          data:
           tag: '3D print job is complete!'

# Lexi Brush Teeth
  - alias: Lexi Brush Teeth
    trigger:
      - platform: time
        at: '20:45:00'
    action:
      - service: media_player.turn_on
        entity_id: media_player.kitchen_speaker
      - service: media_player.turn_on
        entity_id: media_player.googlehome3446
      - service: media_player.turn_on
        entity_id: media_player.downstairs
      - delay: '00:00:03'
      - service: media_player.volume_set
        data:
          entity_id: media_player.downstairs
          volume_level: 0.50
      - service: media_player.volume_set
        data:
          entity_id: media_player.kitchen_speaker
          volume_level: 0.50
      - service: media_player.volume_set
        data:
          entity_id: media_player.googlehome3446
          volume_level: 0.50
      - delay: '00:00:03'
      - service: tts.google_say
        entity_id: media_player.downstairs
        data:
          message: 'Lexi, make sure to brush your teeth'
      - delay: '00:00:30'
      - service: media_player.turn_off
        data_template:
          entity_id: media_player.downstairs

  - alias: coffee pot setup reminder
    trigger:
      - platform: time
        at: '20:00:00'
    action:
      service: notify.google_push
      data:
        message: "Did you set up the coffee pot?"
        target: ["Tommy_Pixel_2XL", "MPU_Chrome", "mpu_linux"]
        data:
          actions:
            - action: "button1"
              title: "Yes"
            - action: "button2"
              title: "No"

  - alias: Coffee Pot Button 1 Clicked
    trigger:
      - platform: event
        event_type: html5_notification.clicked
        event_data:
          action: button1
    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.is_coffee_pot_setup
          option: 'Yes'
      - service: automation.turn_on
        entity_id: automation.start_coffee_pot

  - alias: Coffee Pot Button 2 clicked
    trigger:
      - platform: event
        event_type: html5_notification.clicked
        event_data:
          action: button2
    action:
      - service: input_select.select_option
        data:
          entity_id: input_select.is_coffee_pot_setup
          option: 'No'